{"version":3,"sources":["colResizable-1.6.js"],"names":["$","S","d","document","h","drag","tables","count","PX","SIGNATURE","FLEX","I","parseInt","M","Math","ie","navigator","userAgent","indexOf","sessionStorage","e","append","destroy","t","id","attr","is","removeClass","gc","remove","createGrips","th","find","length","filter","cg","ln","p","memento","each","i","c","this","dc","g","lastChild","opt","gripInnerHtml","addClass","f","html","on","onGripMouseDown","w","width","push","removeAttr","data","last","not","syncGrips","tw","m","aux","flush","split","overflow","css","eq","left","offset","outerWidth","cs","height","headerOnly","outerHeight","syncCols","isOver","inc","x","l","c2","w2","applyBounds","map","onGripDrag","oe","originalEvent","touches","pageX","ox","mw","minWidth","b","min","position","max","Infinity","liveDrag","cb","onDrag","currentTarget","onGripDragOver","off","draggingClass","onResize","o","dragCursor","window","hasOwnProperty","round","mode","fn","extend","colResizable","options","resizeMode","hoverCursor","postbackSafe","marginLeft","marginRight","disable","partialRefresh","disabledColumns","fixed","tb","before","prev","cellSpacing","currentStyle","borderSpacing","border","borderLeftWidth","init","jQuery"],"mappings":"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","file":"colResizable-1.6.min.js","sourcesContent":["/**\n               _ _____           _          _     _      \n              | |  __ \\         (_)        | |   | |     \n      ___ ___ | | |__) |___  ___ _ ______ _| |__ | | ___ \n     / __/ _ \\| |  _  // _ \\/ __| |_  / _` | '_ \\| |/ _ \\\n    | (_| (_) | | | \\ \\  __/\\__ \\ |/ / (_| | |_) | |  __/\n     \\___\\___/|_|_|  \\_\\___||___/_/___\\__,_|_.__/|_|\\___|\n\t \n\tv1.6 - jQuery plugin created by Alvaro Prieto Lauroba\n\t\n\tLicences: MIT & GPL\n\tFeel free to use or modify this plugin as far as my full name is kept\t\n\t\n\tIf you are going to use this plug-in in production environments it is \n\tstrongly recommended to use its minified version: colResizable.min.js\n\n*/\n\n(function($){ \t\n\t\n\tvar d = $(document); \t\t//window object\n\tvar h = $(\"head\");\t\t\t//head object\n\tvar drag = null;\t\t\t//reference to the current grip that is being dragged\n\tvar tables = {};\t\t\t//object of the already processed tables (table.id as key)\n\tvar\tcount = 0;\t\t\t\t//internal count to create unique IDs when needed.\t\n\t\n\t//common strings for packing\n\tvar ID = \"id\";\t\n\tvar PX = \"px\";\n\tvar SIGNATURE =\"JColResizer\";\n    var FLEX = \"JCLRFlex\";\n\t\n\t//short-cuts\n\tvar I = parseInt;\n\tvar M = Math;\n\tvar ie = navigator.userAgent.indexOf('Trident/4.0')>0;\n\tvar S;\n\ttry{S = sessionStorage;}catch(e){}\t//Firefox crashes when executed as local file system\n\t\n\t//append required CSS rules  \n    h.append(\"<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer > tbody > tr > td, .JColResizer > tbody > tr > th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: e-resize;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;\t} .JCLRFlex{width:auto!important;} .JCLRgrip.JCLRdisabledGrip .JColResizer{cursor:default; display:none;}</style>\");\n\n\t\n\t/**\n\t * Function to allow column resizing for table objects. It is the starting point to apply the plugin.\n\t * @param {DOM node} tb - reference to the DOM table object to be enhanced\n\t * @param {Object} options\t- some customization values\n\t */\n\tvar init = function( tb, options){\t\n\t\tvar t = $(tb);\t\t\t\t    //the table object is wrapped\n        t.opt = options;                //each table has its own options available at anytime\n        t.mode = options.resizeMode;    //shortcuts\n        t.dc = t.opt.disabledColumns;\n\t\tif(t.opt.disable) return destroy(t);\t\t\t\t//the user is asking to destroy a previously colResized table\n\t\tvar\tid = t.id = t.attr(ID) || SIGNATURE+count++;\t//its id is obtained, if null new one is generated\t\t\n\t\tt.p = t.opt.postbackSafe; \t\t\t\t\t\t\t//short-cut to detect postback safe \t\t\n\t\tif(!t.is(\"table\") || tables[id] && !t.opt.partialRefresh) return; \t\t//if the object is not a table or if it was already processed then it is ignored.\n\t\tif (t.opt.hoverCursor !== 'e-resize') h.append(\"<style type='text/css'>.JCLRgrip .JColResizer:hover{cursor:\"+ t.opt.hoverCursor +\"!important}</style>\");  //if hoverCursor has been set, append the style\n\t\tt.addClass(SIGNATURE).attr(ID, id).before('<div class=\"JCLRgrips\"/>');\t//the grips container object is added. Signature class forces table rendering in fixed-layout mode to prevent column's min-width\n\t\tt.g = []; t.c = []; t.w = t.width(); t.gc = t.prev(); t.f=t.opt.fixed;\t//t.c and t.g are arrays of columns and grips respectively\t\t\t\t\n\t\tif(options.marginLeft) t.gc.css(\"marginLeft\", options.marginLeft);  \t//if the table contains margins, it must be specified\n\t\tif(options.marginRight) t.gc.css(\"marginRight\", options.marginRight);  \t//since there is no (direct) way to obtain margin values in its original units (%, em, ...)\n\t\tt.cs = I(ie? tb.cellSpacing || tb.currentStyle.borderSpacing :t.css('border-spacing'))||2;\t//table cellspacing (not even jQuery is fully cross-browser)\n\t\tt.b  = I(ie? tb.border || tb.currentStyle.borderLeftWidth :t.css('border-left-width'))||1;\t//outer border width (again cross-browser issues)\n\t\t// if(!(tb.style.width || tb.width)) t.width(t.width()); //I am not an IE fan at all, but it is a pity that only IE has the currentStyle attribute working as expected. For this reason I can not check easily if the table has an explicit width or if it is rendered as \"auto\"\n\t\ttables[id] = t; \t//the table object is stored using its id as key\t\n\t\tcreateGrips(t);\t\t//grips are created \n\t\n\t};\n\n\n\t/**\n\t * This function allows to remove any enhancements performed by this plugin on a previously processed table.\n\t * @param {jQuery ref} t - table object\n\t */\n\tvar destroy = function(t){\n\t\tvar id=t.attr(ID), t=tables[id];\t\t//its table object is found\n\t\tif(!t||!t.is(\"table\")) return;\t\t\t//if none, then it wasn't processed\t \n\t\tt.removeClass(SIGNATURE+\" \"+FLEX).gc.remove();\t//class and grips are removed\n\t\tdelete tables[id];\t\t\t\t\t\t//clean up data\n\t};\n\n\n\t/**\n\t * Function to create all the grips associated with the table given by parameters \n\t * @param {jQuery ref} t - table object\n\t */\n\tvar createGrips = function(t){\t\n\t\n        var th = t.find(\">thead>tr:first>th,>thead>tr:first>td\"); //table headers are obtained\n\t\tif(!th.length) th = t.find(\">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td\");\t //but headers can also be included in different ways\n\t\tth = th.filter(\":visible\");\t\t\t\t\t//filter invisible columns\n\t\tt.cg = t.find(\"col\"); \t\t\t\t\t\t//a table can also contain a colgroup with col elements\t\t\n\t\tt.ln = th.length;\t\t\t\t\t\t\t//table length is stored\t\n\t\tif(t.p && S && S[t.id])memento(t,th);\t\t//if 'postbackSafe' is enabled and there is data for the current table, its coloumn layout is restored\n\t\tth.each(function(i){\t\t\t\t\t\t//iterate through the table column headers\t\t\t\n\t\t\tvar c = $(this); \t\t\t\t\t\t//jquery wrap for the current column\t\t\n            var dc = t.dc.indexOf(i)!=-1;           //is this a disabled column?\n\t\t\tvar g = $(t.gc.append('<div class=\"JCLRgrip\"></div>')[0].lastChild); //add the visual node to be used as grip\n            g.append(dc ? \"\": t.opt.gripInnerHtml).append('<div class=\"'+SIGNATURE+'\"></div>');\n            if(i == t.ln-1){                        //if the current grip is the las one \n                g.addClass(\"JCLRLastGrip\");         //add a different css class to stlye it in a different way if needed\n                if(t.f) g.html(\"\");                 //if the table resizing mode is set to fixed, the last grip is removed since table with can not change\n            }\n            g.on('touchstart mousedown', onGripMouseDown); //bind the mousedown event to start dragging \n            \n            if (!dc){ \n                //if normal column bind the mousedown event to start dragging, if disabled then apply its css class\n                g.removeClass('JCLRdisabledGrip').on('touchstart mousedown', onGripMouseDown);      \n            }else{\n                g.addClass('JCLRdisabledGrip'); \n            }\n\n\t\t\tg.t = t; g.i = i; g.c = c;\tc.w =c.width();\t\t//some values are stored in the grip's node data as shortcut\n\t\t\tt.g.push(g); t.c.push(c);\t\t\t\t\t\t//the current grip and column are added to its table object\n\t\t\tc.width(c.w).removeAttr(\"width\");\t\t\t\t//the width of the column is converted into pixel-based measurements\n\t\t\tg.data(SIGNATURE, {i:i, t:t.attr(ID), last: i == t.ln-1});\t //grip index and its table name are stored in the HTML \t\t\t\t\t\t\t\t\t\t\t\t\n\t\t}); \t\n\t\tt.cg.removeAttr(\"width\");\t//remove the width attribute from elements in the colgroup \n\n\t\tt.find('td, th').not(th).not('table th, table td').each(function(){  \n\t\t\t$(this).removeAttr('width');\t//the width attribute is removed from all table cells which are not nested in other tables and dont belong to the header\n\t\t});\t\t\n        if(!t.f){\n            t.removeAttr('width').addClass(FLEX); //if not fixed, let the table grow as needed\n        }\n        syncGrips(t); \t\t\t\t//the grips are positioned according to the current table layout\t\t\t\n        //there is a small problem, some cells in the table could contain dimension values interfering with the \n        //width value set by this plugin. Those values are removed\n\t\t\n\t};\n\t\n    \n\t/**\n\t * Function to allow the persistence of columns dimensions after a browser postback. It is based in\n\t * the HTML5 sessionStorage object, which can be emulated for older browsers using sessionstorage.js\n\t * @param {jQuery ref} t - table object\n\t * @param {jQuery ref} th - reference to the first row elements (only set in deserialization)\n\t */\n\tvar memento = function(t, th){ \n\t\tvar w,m=0,i=0,aux =[],tw;\n\t\tif(th){\t\t\t\t\t\t\t\t\t\t//in deserialization mode (after a postback)\n\t\t\tt.cg.removeAttr(\"width\");\n\t\t\tif(t.opt.flush){ S[t.id] =\"\"; return;} \t//if flush is activated, stored data is removed\n\t\t\tw = S[t.id].split(\";\");\t\t\t\t\t//column widths is obtained\n\t\t\ttw = w[t.ln+1];\n            if(!t.f && tw){\t\t\t\t\t\t\t//if not fixed and table width data available its size is restored\n                t.width(tw*=1);\n                if(t.opt.overflow) {\t\t\t\t//if overfolw flag is set, restore table width also as table min-width\n                    t.css('min-width', tw + PX);\n                    t.w = tw;\n                }\n            }\n\t\t\tfor(;i<t.ln;i++){\t\t\t\t\t\t//for each column\n\t\t\t\taux.push(100*w[i]/w[t.ln]+\"%\"); \t//width is stored in an array since it will be required again a couple of lines ahead\n\t\t\t\tth.eq(i).css(\"width\", aux[i] ); \t//each column width in % is restored\n\t\t\t}\t\t\t\n\t\t\tfor(i=0;i<t.ln;i++)\n\t\t\t\tt.cg.eq(i).css(\"width\", aux[i]);\t//this code is required in order to create an inline CSS rule with higher precedence than an existing CSS class in the \"col\" elements\n\t\t}else{\t\t\t\t\t\t\t//in serialization mode (after resizing a column)\n\t\t\tS[t.id] =\"\";\t\t\t\t//clean up previous data\n\t\t\tfor(;i < t.c.length; i++){\t//iterate through columns\n\t\t\t\tw = t.c[i].width();\t\t//width is obtained\n\t\t\t\tS[t.id] += w+\";\";\t\t//width is appended to the sessionStorage object using ID as key\n\t\t\t\tm+=w;\t\t\t\t\t//carriage is updated to obtain the full size used by columns\n\t\t\t}\n\t\t\tS[t.id]+=m;\t\t\t\t\t\t\t//the last item of the serialized string is the table's active area (width), \n\t\t\t\t\t\t\t\t\t\t\t\t//to be able to obtain % width value of each columns while deserializing\n\t\t\tif(!t.f) S[t.id] += \";\"+t.width(); \t//if not fixed, table width is stored\n\t\t}\t\n\t};\n\t\n\t\n\t/**\n\t * Function that places each grip in the correct position according to the current table layout\t \n\t * @param {jQuery ref} t - table object\n\t */\n\tvar syncGrips = function (t){\t\n\t\tt.gc.width(t.w);\t\t\t//the grip's container width is updated\t\t\t\t\n\t\tfor(var i=0; i<t.ln; i++){\t//for each column\n\t\t\tvar c = t.c[i]; \t\t\t\n\t\t\tt.g[i].css({\t\t\t//height and position of the grip is updated according to the table layout\n\t\t\t\tleft: c.offset().left - t.offset().left + c.outerWidth(false) + t.cs / 2 + PX,\n\t\t\t\theight: t.opt.headerOnly? t.c[0].outerHeight(false) : t.outerHeight(false)\t\t\t\t\n\t\t\t});\t\t\t\n\t\t} \t\n\t};\n\t\n\t\n\t\n\t/**\n\t* This function updates column's width according to the horizontal position increment of the grip being\n\t* dragged. The function can be called while dragging if liveDragging is enabled and also from the onGripDragOver\n\t* event handler to synchronize grip's position with their related columns.\n\t* @param {jQuery ref} t - table object\n\t* @param {number} i - index of the grip being dragged\n\t* @param {bool} isOver - to identify when the function is being called from the onGripDragOver event\t\n\t*/\n\tvar syncCols = function(t,i,isOver){\n\t\tvar inc = drag.x-drag.l, c = t.c[i], c2 = t.c[i+1]; \t\t\t\n\t\tvar w = c.w + inc;\tvar w2= c2.w- inc;\t//their new width is obtained\t\t\t\t\t\n\t\tc.width( w + PX);\t\t\t\n\t\tt.cg.eq(i).width( w + PX); \n        if(t.f){ //if fixed mode\n            c2.width(w2 + PX);\n            t.cg.eq(i+1).width( w2 + PX);\n        }else if(t.opt.overflow) {\t\t\t\t//if overflow is set, incriment min-width to force overflow\n            t.css('min-width', t.w + inc);\n        }\n\t\tif(isOver){\n            c.w=w; \n            c2.w= t.f ? w2 : c2.w;\n        }\n\t};\n\n\t\n\t/**\n\t* This function updates all columns width according to its real width. It must be taken into account that the \n\t* sum of all columns can exceed the table width in some cases (if fixed is set to false and table has some kind \n\t* of max-width).\n\t* @param {jQuery ref} t - table object\t\n\t*/\n\tvar applyBounds = function(t){\n        var w = $.map(t.c, function(c){\t\t\t//obtain real widths\n            return c.width();\n        });\n        t.width(t.w = t.width()).removeClass(FLEX);\t//prevent table width changes\n        $.each(t.c, function(i,c){\n            c.width(w[i]).w = w[i];\t\t\t\t//set column widths applying bounds (table's max-width)\n        });\n\t\tt.addClass(FLEX);\t\t\t\t\t\t//allow table width changes\n\t};\n\t\n\t\n\t/**\n\t * Event handler used while dragging a grip. It checks if the next grip's position is valid and updates it. \n\t * @param {event} e - mousemove event binded to the window object\n\t */\n\tvar onGripDrag = function(e){\t\n\t\tif(!drag) return; \n        var t = drag.t;\t\t//table object reference \n        var oe = e.originalEvent.touches;\n        var ox = oe ? oe[0].pageX : e.pageX;    //original position (touch or mouse)\n        var x =  ox - drag.ox + drag.l;\t        //next position according to horizontal mouse position increment\n\t\tvar mw = t.opt.minWidth, i = drag.i ;\t//cell's min width\n\t\tvar l = t.cs*1.5 + mw + t.b;\n        var last = i == t.ln-1;                 \t\t\t//check if it is the last column's grip (usually hidden)\n        var min = i? t.g[i-1].position().left+t.cs+mw: l;\t//min position according to the contiguous cells\n\t\tvar max = t.f ? \t//fixed mode?\n\t\t\ti == t.ln-1? \n\t\t\t\tt.w-l: \n\t\t\t\tt.g[i+1].position().left-t.cs-mw:\n\t\t\tInfinity; \t\t\t\t\t\t\t\t//max position according to the contiguous cells \n\t\tx = M.max(min, M.min(max, x));\t\t\t\t//apply bounding\t\t\n\t\tdrag.x = x;\t drag.css(\"left\",  x + PX); \t//apply position increment\t\n        if(last){\t\t\t\t\t\t\t\t\t//if it is the last grip\n            var c = t.c[drag.i];\t\t\t\t\t//width of the last column is obtained\n\t\t\tdrag.w = c.w + x- drag.l;         \n        }              \n\t\tif(t.opt.liveDrag){ \t\t\t//if liveDrag is enabled\n\t\t\tif(last){\n\t\t\t    c.width(drag.w);\n                if(!t.f && t.opt.overflow){\t\t\t//if overflow is set, incriment min-width to force overflow\n                   t.css('min-width', t.w + x - drag.l);\n                }else {\n                    t.w = t.width();\n                }\n\t\t\t}else{\n\t\t\t\tsyncCols(t,i); \t\t\t//columns are synchronized\n\t\t\t}\n\t\t\tsyncGrips(t);\n\t\t\tvar cb = t.opt.onDrag;\t\t\t\t\t\t\t//check if there is an onDrag callback\n\t\t\tif (cb) { e.currentTarget = t[0]; cb(e); }\t\t//if any, it is fired\t\t\t\n\t\t}\n\t\treturn false; \t//prevent text selection while dragging\t\t\t\t\n\t};\n\t\n\n\t/**\n\t * Event handler fired when the dragging is over, updating table layout\n     * @param {event} e - grip's drag over event\n\t */\n\tvar onGripDragOver = function(e){\t\n\t\t\n\t\td.off('touchend.'+SIGNATURE+' mouseup.'+SIGNATURE).off('touchmove.'+SIGNATURE+' mousemove.'+SIGNATURE);\n\t\t$(\"head :last-child\").remove(); \t\t\t\t//remove the dragging cursor style\t\n\t\tif(!drag) return;\n\t\tdrag.removeClass(drag.t.opt.draggingClass);\t\t//remove the grip's dragging css-class\n        if (!(drag.x - drag.l == 0)) {\n            var t = drag.t;\n            var cb = t.opt.onResize; \t    //get some values\t\n            var i = drag.i;                 //column index\n            var last = i == t.ln-1;         //check if it is the last column's grip (usually hidden)\n            var c = t.g[i].c;               //the column being dragged\n            if(last){\n                c.width(drag.w);\n                c.w = drag.w;\n            }else{\n                syncCols(t, i, true);\t//the columns are updated\n            }\n            if(!t.f) applyBounds(t);\t//if not fixed mode, then apply bounds to obtain real width values\n            syncGrips(t);\t\t\t\t//the grips are updated\n            if (cb) { e.currentTarget = t[0]; cb(e); }\t//if there is a callback function, it is fired\n            if(t.p && S) memento(t); \t//if postbackSafe is enabled and there is sessionStorage support, the new layout is serialized and stored\n        }\n\t\tdrag = null;   //since the grip's dragging is over\t\t\t\t\t\t\t\t\t\n\t};\t\n\t\n\t\n\t/**\n\t * Event handler fired when the grip's dragging is about to start. Its main goal is to set up events \n\t * and store some values used while dragging.\n     * @param {event} e - grip's mousedown event\n\t */\n\tvar onGripMouseDown = function(e){\n\t\tvar o = $(this).data(SIGNATURE);\t\t\t//retrieve grip's data\n\t\tvar t = tables[o.t],  g = t.g[o.i];\t\t\t//shortcuts for the table and grip objects\n        var oe = e.originalEvent.touches;           //touch or mouse event?\n        g.ox = oe? oe[0].pageX: e.pageX;            //the initial position is kept\n\t\tg.l = g.position().left;\n        g.x = g.l;\n        \n\t\td.on('touchmove.'+SIGNATURE+' mousemove.'+SIGNATURE, onGripDrag ).on('touchend.'+SIGNATURE+' mouseup.'+SIGNATURE, onGripDragOver);\t//mousemove and mouseup events are bound\n\t\th.append(\"<style type='text/css'>*{cursor:\"+ t.opt.dragCursor +\"!important}</style>\"); \t//change the mouse cursor\n\t\tg.addClass(t.opt.draggingClass); \t//add the dragging class (to allow some visual feedback)\t\t\t\t\n\t\tdrag = g;\t\t\t\t\t\t\t//the current grip is stored as the current dragging object\n\t\tif(t.c[o.i].l) for(var i=0,c; i<t.ln; i++){ c=t.c[i]; c.l = false; c.w= c.width(); } \t//if the colum is locked (after browser resize), then c.w must be updated\t\t\n\t\treturn false; \t//prevent text selection\n\t};\n    \n    \n\t/**\n\t * Event handler fired when the browser is resized. The main purpose of this function is to update\n\t * table layout according to the browser's size synchronizing related grips \n\t */\n\tvar onResize = function () {\n\t\tfor (var t in tables){\n            if (tables.hasOwnProperty(t)) {\n                t = tables[t];\n                var i, mw=0;\n                t.removeClass(SIGNATURE);   //firefox doesn't like layout-fixed in some cases\n                if (t.f) {                  //in fixed mode\n                    t.w = t.width();        //its new width is kept\n                    for(i=0; i<t.ln; i++) mw+= t.c[i].w;\t\t\n                    //cell rendering is not as trivial as it might seem, and it is slightly different for\n                    //each browser. In the beginning i had a big switch for each browser, but since the code\n                    //was extremely ugly now I use a different approach with several re-flows. This works \n                    //pretty well but it's a bit slower. For now, lets keep things simple...   \n                    for(i=0; i<t.ln; i++) t.c[i].css(\"width\", M.round(1000*t.c[i].w/mw)/10 + \"%\").l=true; \n                    //c.l locks the column, telling us that its c.w is outdated\t\t\t\t\t\t\t\t\t\n                } else {     //in non fixed-sized tables\n                    applyBounds(t);         //apply the new bounds \n                    if (t.mode === 'flex' && t.p && S){   //if postbackSafe is enabled and there is sessionStorage support,\n                        memento(t);                     //the new layout is serialized and stored for 'flex' tables\n                    }\n                }\n                syncGrips(t.addClass(SIGNATURE));\n            }\n\t\t} \n\t\t\n\t};\t\t\n\n\n\t//bind resize event, to update grips position \n\t$(window).on('resize.'+SIGNATURE, onResize); \n\n\n\t/**\n\t * The plugin is added to the jQuery library\n\t * @param {Object} options -  an object that holds some basic customization values \n\t */\n    $.fn.extend({  \n        colResizable: function(options) {           \n            var defaults = {\n\t\t\t\n\t\t\t\t//attributes:\n                \n                resizeMode: 'fit',              //mode can be 'fit', 'flex' or 'overflow'\n                draggingClass: 'JCLRgripDrag',\t//css-class used when a grip is being dragged (for visual feedback purposes)\n\t\t\t\tgripInnerHtml: '',\t\t\t\t//if it is required to use a custom grip it can be done using some custom HTML\t\t\t\t\n\t\t\t\tliveDrag: false,\t\t\t\t//enables table-layout updating while dragging\t\n\t\t\t\tminWidth: 15, \t\t\t\t\t//minimum width value in pixels allowed for a column \n\t\t\t\theaderOnly: false,\t\t\t\t//specifies that the size of the the column resizing anchors will be bounded to the size of the first row \n\t\t\t\thoverCursor: \"e-resize\",  \t\t//cursor to be used on grip hover\n\t\t\t\tdragCursor: \"e-resize\",  \t\t//cursor to be used while dragging\n\t\t\t\tpostbackSafe: false, \t\t\t//when it is enabled, table layout can persist after postback or page refresh. It requires browsers with sessionStorage support (it can be emulated with sessionStorage.js). \n\t\t\t\tflush: false, \t\t\t\t\t//when postbakSafe is enabled, and it is required to prevent layout restoration after postback, 'flush' will remove its associated layout data \n\t\t\t\tmarginLeft: null,\t\t\t\t//in case the table contains any margins, colResizable needs to know the values used, e.g. \"10%\", \"15em\", \"5px\" ...\n\t\t\t\tmarginRight: null, \t\t\t\t//in case the table contains any margins, colResizable needs to know the values used, e.g. \"10%\", \"15em\", \"5px\" ...\n\t\t\t\tdisable: false,\t\t\t\t\t//disables all the enhancements performed in a previously colResized table\t\n\t\t\t\tpartialRefresh: false,\t\t\t//can be used in combination with postbackSafe when the table is inside of an updatePanel,\n                disabledColumns: [],            //column indexes to be excluded\n\n\t\t\t\t//events:\n\t\t\t\tonDrag: null, \t\t\t\t\t//callback function to be fired during the column resizing process if liveDrag is enabled\n\t\t\t\tonResize: null\t\t\t\t\t//callback function fired when the dragging process is over\n            };\n\t\t\tvar options =  $.extend(defaults, options);\t\t\n            \n            //since now there are 3 different ways of resizing columns, I changed the external interface to make it clear\n            //calling it 'resizeMode' but also to remove the \"fixed\" attribute which was confusing for many people\n            options.fixed = true;\n            options.overflow = false;\n            switch(options.resizeMode){\n                case 'flex': options.fixed = false; break;\n                case 'overflow': options.fixed = false; options.overflow = true; break;\n            }\n\n            return this.each(function() {\t\t\t\t\n             \tinit( this, options);             \n            });\n        }\n    });\n})(jQuery);\n\n"]}