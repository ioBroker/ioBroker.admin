import{j as e}from"./jsx-runtime-Cp-hbMRJ.js";import{A as u,i as x}from"./AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__-CbzMf-XP.js";import{T as C,A as l}from"./AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__-Z38LsAXT.js";import{T as b,a as g,b as f,c as i,d as j,C as p}from"./TableRow-CHN72bYy.js";import"./AdminComponentEasyAccessSet__loadShare__react__loadShare__-CNokp6wM.js";import"./_commonjsHelpers-BosuxZz1.js";import"./preload-helper-D6kgxu3v.js";const{loadShare:A}=x,{initPromise:T}=u,y=T.then(d=>A("@iobroker/json-config",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),I=await y.then(d=>d());var r=I;const c={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"}};class S extends r.ConfigGeneric{componentDidMount(){super.componentDidMount(),this.props.oContext.socket.getAdapterInstances().then(_=>{const m=_.filter(s=>{var o;return((o=s==null?void 0:s.common)==null?void 0:o.adminUI)&&(s.common.adminUI.config!=="none"||s.common.adminUI.tab)}).map(s=>{var o;return{id:s._id.replace(/^system\.adapter\./,""),config:((o=s.common.adminUI)==null?void 0:o.config)!=="none",adminTab:s.common.adminTab}}).sort((s,o)=>s.id>o.id?1:s.id<o.id?-1:0);this.setState({instances:m})})}renderItem(_,m,s){if(!this.state.instances)return null;const o=r.ConfigGeneric.getValue(this.props.data,"accessAllowedConfigs")||[],h=r.ConfigGeneric.getValue(this.props.data,"accessAllowedTabs")||[];return e.jsx(C,{children:e.jsxs(b,{style:c.table,size:"small",children:[e.jsx(g,{children:e.jsxs(f,{children:[e.jsx(i,{style:c.header,children:l.I18n.t("custom_easy_Instance")}),e.jsx(i,{style:c.header,children:l.I18n.t("custom_easy_Config")}),e.jsx(i,{style:c.header,children:l.I18n.t("custom_easy_Tab")})]})}),e.jsx(j,{children:this.state.instances.map(t=>e.jsxs(f,{children:[e.jsx(i,{component:"th",scope:"row",children:t.id}),e.jsx(i,{children:t.config?e.jsx(p,{checked:o.includes(t.id),onClick:()=>{const n=[...o],a=n.indexOf(t.id);a!==-1?n.splice(a,1):(n.push(t.id),n.sort()),this.onChange("accessAllowedConfigs",n)}}):null}),e.jsx(i,{children:t.adminTab?e.jsx(p,{checked:h.includes(t.id),onClick:()=>{const n=[...h],a=n.indexOf(t.id);a!==-1?n.splice(a,1):(n.push(t.id),n.sort()),this.onChange("accessAllowedTabs",n)}}):null})]},t.id))})]})})}}const w={ConfigCustomEasyAccess:S};export{w as default};
