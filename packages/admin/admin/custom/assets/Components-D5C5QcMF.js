import{j as e}from"./jsx-runtime-CTWygAA3.js";import{A as s}from"./AdminComponentEasyAccessSet__loadShare___mf_0_mui_mf_1_material__loadShare__-CyJ0aZA_.js";import{A as f,i as p}from"./AdminComponentEasyAccessSet__mf_v__runtimeInit__mf_v__-JbSPU0nV.js";import{A as d}from"./AdminComponentEasyAccessSet__loadShare___mf_0_iobroker_mf_1_adapter_mf_2_react_mf_2_v5__loadShare__-Ccv-XSYH.js";import"./AdminComponentEasyAccessSet__loadShare__react__loadShare__-CeoNSDQT.js";import"./_commonjsHelpers-C4iS2aBk.js";const{loadShare:C}=p,{initPromise:b}=f,u=b.then(c=>C("@iobroker/json-config",{customShareInfo:{shareConfig:{singleton:!0,strictVersion:!1,requiredVersion:"*"}}})),x=await u.then(c=>c());var _=x;const l={table:{minWidth:400},header:{fontSize:16,fontWeight:"bold"}};class g extends _.ConfigGeneric{componentDidMount(){super.componentDidMount(),this.props.oContext.socket.getAdapterInstances().then(r=>{const m=r.filter(o=>{var n;return((n=o==null?void 0:o.common)==null?void 0:n.adminUI)&&(o.common.adminUI.config!=="none"||o.common.adminUI.tab)}).map(o=>{var n;return{id:o._id.replace(/^system\.adapter\./,""),config:((n=o.common.adminUI)==null?void 0:n.config)!=="none",adminTab:o.common.adminTab}}).sort((o,n)=>o.id>n.id?1:o.id<n.id?-1:0);this.setState({instances:m})})}renderItem(r,m,o){if(!this.state.instances)return null;const n=_.ConfigGeneric.getValue(this.props.data,"accessAllowedConfigs")||[],h=_.ConfigGeneric.getValue(this.props.data,"accessAllowedTabs")||[];return e.jsx(s.TableContainer,{children:e.jsxs(s.Table,{style:l.table,size:"small",children:[e.jsx(s.TableHead,{children:e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{style:l.header,children:d.I18n.t("custom_easy_Instance")}),e.jsx(s.TableCell,{style:l.header,children:d.I18n.t("custom_easy_Config")}),e.jsx(s.TableCell,{style:l.header,children:d.I18n.t("custom_easy_Tab")})]})}),e.jsx(s.TableBody,{children:this.state.instances.map(i=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{component:"th",scope:"row",children:i.id}),e.jsx(s.TableCell,{children:i.config?e.jsx(s.Checkbox,{checked:n.includes(i.id),onClick:()=>{const t=[...n],a=t.indexOf(i.id);a!==-1?t.splice(a,1):(t.push(i.id),t.sort()),this.onChange("accessAllowedConfigs",t)}}):null}),e.jsx(s.TableCell,{children:i.adminTab?e.jsx(s.Checkbox,{checked:h.includes(i.id),onClick:()=>{const t=[...h],a=t.indexOf(i.id);a!==-1?t.splice(a,1):(t.push(i.id),t.sort()),this.onChange("accessAllowedTabs",t)}}):null})]},i.id))})]})})}}const k={ConfigCustomEasyAccess:g};export{k as default};
